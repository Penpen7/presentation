# テストメソッド名にこだわっている話 - 発表原稿

## スライド1: 表紙
「みなさん、こんにちは！ネオ美魔です。今日は『テストメソッド名にこだわっている話』というテーマでお話しします。5分間という短い時間ですが、テストコードの品質を上げるための小さな工夫について熱く語りたいと思います！」

## スライド2: 自己紹介
「簡単に自己紹介させてください。私はPenpen7というハンドルネームで活動していて、バックエンドエンジニアをしています。好きな言語はRustとGoです。普段はKINTO FACTORYという車のアップグレードサービスの開発に携わっています。そして今回は初めての試みでterminal上でスライドを作ってみました！右側の写真は箱根旅行での一枚です。よろしくお願いします！」

## スライド3: 参考文献
「今日の話は、『単体テストの考え方/使い方』という本を参考にしています。テスト書きの方法に迷ったときはぜひ参考にしてみてください！あとでもう一度紹介します！」

## スライド4: 質問スライド
「さて、みなさん！普段からテストコード書いてますか～？🙌」
(聴衆の反応を少し待つ)

## スライド5: フォロー
「もちろん、みんな息をするように書いてますよね～？テスト大事ですよね～！」
(明るく、会場の笑いを誘うトーン)

## スライド6: 問いかけ
「でもちょっと本音で言うと、テスト書くのって時々辛くないですか？🤔 特に名前つけるのとか...」

## スライド7: 辛いこと
「こんな経験、ありませんか？『なんやこの分かりづらいテストコード...』と思ってたら、自分が昔書いたコードだった...😱 あるいは、他の人が書いたテストコードをレビューしていて、『内容わからんけどなんとなくApprove』しちゃったり...🙈 

今日はこのあたりの辛さを解消するための小技、特にテストメソッドの命名について話します！」

## スライド8: 今回言いたいこと
「今日の核心はズバリ！『テスト・メソッドにわかりやすい名前をつけるようにしよう』です！しかも単にわかりやすいだけじゃなくて、『エンジニア「以外」が読んでも理解できるくらい』にわかりやすく！これだけでテストの品質が上がるんです！」

## スライド9: テスト・メソッドの説明前
「そもそも『テストメソッドってなに？』という方のために、簡単に説明しますね！」

## スライド10: テストコード
「左側がテスト対象のコード、右側がテストコードです。そして下のコマンドでテストを実行します。この中でテストメソッドというのは...」

## スライド11: テストメソッドの説明
「これがテストメソッドです！関数の形でテストを定義しています。」

## スライド12: テストメソッド名
「そして、このTest_合計値を計算できる というのがテストメソッドの名前です。名前からどんなテストをしているのかがわかりますよね。今日はこの名前をより分かりやすくしようという話なんです！」

## スライド13: 実例
「じゃあ実際にありそうな例でやってみましょう！左側がECサイトのプロダクションコード、右側がそのテストコードです。この2つのテストメソッド名、なんとなく意味はわかりますが...」

## スライド14: 問題点
「よく見ると『在庫数が0より大きい場合、どうなるのが正しいのか？』『在庫切れエラーとはどういう条件で起きるのか？』といった疑問が湧いてきますよね。テストメソッド名からはこれらがハッキリわからないんです！」

## スライド15: 提案
「そこで私が提案したいのは、テストメソッド名を『{ テスト対象メソッド }_{ 事前条件 }_{ 想定する結果 }』という形式に統一することです！」

## スライド16: 名前変更例
「こんな感じで変えてみました。『Test_Order_在庫数が0より大きい場合_正常終了』『Test_Order_在庫数が0の場合_在庫切れエラー』。さっきよりは良くなりましたよね！」

## スライド17: 更なる改善点
「でもまだ改善の余地があります！このテストメソッド名には『How（どうテストするか）』が含まれているため、読んだときに脳内で『What（何をテストしているか）』に言い換える必要があって、無駄に脳に負荷がかかっています。また、テストメソッド名に対象メソッド名を含めるのはアンチパターンなんです！」

## スライド18: 改善案
「では何を書くべきか？テストメソッド名には『What』を書きましょう！しかも非エンジニア（ドメイン・エキスパート）にも伝わるように、端的に書く。『How』はテストメソッド内に書けばいいんです！

例えば『Test_商品の在庫がある場合_ユーザは商品を購入できる』『Test_商品の在庫がない場合_ユーザは商品を購入できない』こんな感じにするといいんです！」

## スライド19: 疑問への回答
「『でも非エンジニアにも伝わる名前にしなくてもいいのでは？』という疑問、半分正解です！確かにテストコードは開発者だけが見るものですが、開発者がわかる名前って往々にして暗号めいたものになりがちなんです。

そうすると、テストで何を検証し、どんな要件と対応しているか把握しにくくなり、メンテナンスが困難に...書いた本人でも数ヶ月後には読めなくなることも！他のエンジニアのためにも、非エンジニアが読めるくらいにわかりやすく書くことが大切なんです！」

## スライド20: まとめ
「最後にまとめです！テストコードの品質を上げるために、テストメソッド名を工夫しましょう！非エンジニアでも理解できるくらい端的に書くことがポイントです。名前を変えるだけでテストコードの品質が向上できるなんて、超コスパいいと思いませんか？さらに深く学びたい方は、ぜひ『単体テストの考え方/使い方』を読んでみてください！

以上、テストメソッド名にこだわっている話でした！ありがとうございました！」
